---
# defaults file for apache

# Default hosting users (override in group_vars)
hosting_users: []

# Apache MPM (Multi-Processing Module) settings
apache_mpm_module: event  # Options: prefork, worker, event

# Apache performance tuning
apache_max_request_workers: 250
apache_server_limit: 256
apache_start_servers: 3
apache_min_spare_threads: 25
apache_max_spare_threads: 75
apache_threads_per_child: 25
apache_max_connections_per_child: 1000

# KeepAlive settings
apache_keepalive: "On"
apache_keepalive_timeout: 5
apache_max_keepalive_requests: 100

# Timeout settings
apache_timeout: 300

# Server tokens (security)
apache_server_tokens: "Prod"
apache_server_signature: "Off"

# Default modules to enable
apache_extra_modules: []
  # - deflate
  # - expires
  # - cache

# SSL/TLS settings (if SSL is enabled)
apache_ssl_protocol: "all -SSLv3 -TLSv1 -TLSv1.1"
apache_ssl_cipher_suite: "ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384"
apache_ssl_honor_cipher_order: "Off"
apache_ssl_compression: "Off"
apache_ssl_session_tickets: "Off"

# Security headers (enabled by default in VirtualHost templates)
apache_security_headers:
  x_frame_options: "SAMEORIGIN"
  x_content_type_options: "nosniff"
  x_xss_protection: "1; mode=block"

# Log format
apache_log_format: "combined"

# Default document root permissions
apache_document_root_mode: "0755"

# Apache user and group
apache_user: apache
apache_group: apache

# Firewall management
apache_manage_firewall: true

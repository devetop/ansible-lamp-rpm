---
# defaults file for mariadb

# MariaDB root password (OVERRIDE THIS IN YOUR VAULT!)
mariadb_root_password: "ChangeMeToSecurePassword123!"

# Connection Settings
mariadb_max_connections: 200
mariadb_max_connect_errors: 1000
mariadb_wait_timeout: 300
mariadb_interactive_timeout: 300

# Buffer Pool Settings
mariadb_innodb_buffer_pool_size: "1G"
mariadb_innodb_buffer_pool_instances: 4
mariadb_innodb_log_file_size: "256M"
mariadb_innodb_log_buffer_size: "16M"

# Query Cache Settings
mariadb_query_cache_type: 1
mariadb_query_cache_size: "64M"
mariadb_query_cache_limit: "2M"

# Table Cache
mariadb_table_open_cache: 4000
mariadb_table_definition_cache: 2000

# Thread Settings
mariadb_thread_cache_size: 50

# Sort and Join Buffers
mariadb_sort_buffer_size: "2M"
mariadb_read_buffer_size: "1M"
mariadb_read_rnd_buffer_size: "2M"
mariadb_join_buffer_size: "2M"

# Temporary Tables
mariadb_tmp_table_size: "64M"
mariadb_max_heap_table_size: "64M"

# Logging
mariadb_slow_query_log: 1
mariadb_long_query_time: 2
mariadb_log_queries_not_using_indexes: 0

# InnoDB Settings
mariadb_innodb_flush_log_at_trx_commit: 2

# Performance Schema
mariadb_performance_schema: "OFF"

# Max Allowed Packet
mariadb_max_allowed_packet: "64M"

# Allow remote connections (default: false)
mariadb_allow_remote: false
